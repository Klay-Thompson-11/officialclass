### 跨域（跨源）
+ 同源策略：一种关于安全方面的约定，是浏览器最核心也是最基本的安全功能。如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。WEB是构建在同源策略基础之上的，浏览器只是针对同源策略的一种实现。

+ 源 
  - 协议：
    http/https(比http更加安全，因为在传输时需要进行安全证书的认证)
    ftp
    file
    ...
   - 域名(IP)
   - 端口

+ 同源：同域名、同协议、同端口
+ 跨源：只要有一个不同就叫跨域

+ 跨域的解决方案
  - CORS 
     80端口下访问8080端口下的跨域接口
     需要高版本浏览器的XMLHttpRequest + 后端设置白名单

     优点：前端不用做，只需后台添加白名单即可
     缺点：低版本不兼容

   - 服务器代理
      服务器能够进行跨域请求第三方资源，服务器跨域的代码又和我端同源，就等同于我端跨域第三方资源。

      优点：前端基本不用做，需要自己配置第三方资源路径
      缺点：别人变也得跟着变

    - jsonp 
       json + padding 把数据，内填充

### 有很标签天生就支持跨域:
   + a href = ""
   + img src = ""
   + link href=""
   + script  src=""

   script标签会尽量解析外链资源把资源变成js代码


### jsonp需要的条件

 + 全局定义一个函数
 + 后端数据要知道定义的函数名
 + 后端把数据放到函数调用中
 + 通过script标签发送请求，等同于函数调用，传了参


### ajax和jsonp数据的区别

 ajax请求来的数据不带函数名加括号
 jsonp请求来的数据是带函数名加括号
 jsonp只能是get请求，因为走的是url
 ajax请求方式可以请求jsonp数据，但是jsonp数据不能访问到ajax数据

 因为：
 ajax->xhr.responseText(fn('{"name":"zhufeng"}'))
 jsonp->'{"name":"zhufeng"}'