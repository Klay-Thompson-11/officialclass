<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
<style>
#box{
    width:100px;
    height:100px;
    background:slategrey;
    position: absolute;
    top:0;
    left:0;
}
</style>
</head>
<body>
    <div id="box"></div>
<script src="./tween.js"></script>
<script>
    var timer;
    box.onclick = function (){
        move(box,1000,1000,'left');
    }

    /*
        定时器用运动容易掉帧，而且性能会差，所以使用requestAnimationFrame
    */

    function move(obj,c,d,attr){
        var timer;
        var t = 0;
        var b = parseFloat(getComputedStyle(obj)[attr]); 
        c = c - b; 
        (function start(){
            timer = requestAnimationFrame(function (){
                start();
                t += 16.7;
                if(t >= d){
                    t = d;
                    cancelAnimationFrame(timer);
                }
                obj.style[attr] = Tween.linear(t, b, c, d) + 'px';
            });
        })()
    }

</script>
</body>
</html>